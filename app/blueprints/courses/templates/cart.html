{% extends "app_layout.html" %}
{%block title%}
Shopping cart
{%endblock%}

{%block icon%}
<link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='img/icon.png') }}">
{%endblock%}

{% block styles %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
{{ super() }}
{% endblock styles %}
{%block body %}
<div class="container" id="cart">
    <div class="row">
        <div class="col-md-5">
            {% if items %}
            <h2>Avaliable courses</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Course name</th>
                        <th>Language</th>
                        <th>Tutor attendance</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td>{{ item['service_name'] }}</td>
                        <td>{{ item['has_tutor'] }}</td>
                        <td>{{ item['lang'] }}</td>
                        <td>{{ item['price'] }}</td>
                        <td>
                            <form action="" method="post">
                                <input type="hidden" name="service_id" value="{{ item['service_id'] }}">
                                <input class="remove-button" type="submit" name="add_to_cart" value="Add to cart">
                            </form> 
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <h2>No items avaliable!</h2>
            {% endif %}
        </div>
        <div class="col-md-5">
            {% if cart %}
            <h2>Your cart</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Course name</th>
                        <th>Language</th>
                        <th>Tutor attendance</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in cart %}
                    <tr>
                        <td>{{ item['service_name'] }}</td>
                        <td>{{ item['has_tutor'] }}</td>
                        <td>{{ item['lang'] }}</td>
                        <td>{{ item['price'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <h2>Your cart is empty!</h2>
            {% endif %}
        </div>
        <div class="col-md-2">
            <h2>Options</h2>
            <form action="{{ url_for('courses_bp.clear_cart') }}" method="post">
                <input type="submit" value="Clear cart">
            </form>
            <form action="{{ url_for('courses_bp.create_order')}}" method="post">
                <input type="submit" value="Create order">
            </form>
            <form action="{{ url_for('courses_bp.get_courses_menu')}}" method="get">
                <input type="submit" value="Go back">
            </form>
        </div>
    </div>
</div>
{% endblock %}
